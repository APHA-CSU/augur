{
    "type" : "object",
    "$schema": "http://json-schema.org/draft-06/schema#",
    "$id": "https://nextstrain.org/schemas/augur/annotations",
    "title": "Schema for the 'annotations' property (node-data JSON) or the 'genome_annotations' property (auspice JSON)",
    "properties": {
        "nuc": {
            "type": "object",
            "allOf": [{ "$ref": "#/$defs/startend" }],
            "additionalProperties": true,
            "$comment": "All other properties are unused by Auspice. Strand is always considered to be positive."
        }
    },
    "required": ["nuc"],
    "patternProperties": {
        "^[a-zA-Z0-9*_-]+$": {
            "type": "object",
            "allOf": [{ "$ref": "#/$defs/startend" }],
            "additionalProperties": true,
            "properties": {
                "strand": {
                    "description": "Is the gene on the positive ('+') or negative ('-') strand.",
                    "$comment": "Auspice assumes positive strand unless strand is '-'",
                    "type": "string"
                }
            }
        }
    },
    "$defs": {
        "startend": {
            "type": "object",
            "required": ["start", "end"],
            "properties": {
                "start": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Start position (one-based, following GFF format)"
                },
                "end": {
                    "type": "integer",
                    "minimum": 2,
                    "description": "End position (one-based, following GFF format). This value _must_ be greater than the start."
                }
            }
        }
    }
}
